# 🚀 快速开始 - 新版安装流程

> **像 WordPress 一样简单！只需在浏览器中填写配置即可。**

---

## 📋 前提条件

确保您的服务器已安装：
- ✅ 宝塔面板
- ✅ PM2 管理器
- ✅ MySQL 5.7+
- ✅ Nginx
- ✅ Node.js 16+

---

## 🎯 5 分钟完成安装

### 第一步：上传项目（1分钟）

1. 将项目上传到 `/www/wwwroot/notification/`
2. 确认目录结构：
   ```
   /www/wwwroot/notification/
   ├── client/
   ├── server/
   ├── README.md
   └── ...
   ```

### 第二步：创建数据库（1分钟）

1. 宝塔面板 → **数据库** → **添加数据库**
2. 填写信息：
   - 数据库名：`notification_system`
   - 用户名：`notification_user`
   - 密码：自动生成或自定义
3. 点击"提交"
4. **记住这三个信息**（待会要用）

### 第三步：启动后端（1分钟）

1. 宝塔面板 → **软件商店** → **PM2管理器** → **设置**
2. 点击"添加项目"：
   - 项目名称：`notification-server`
   - 项目路径：`/www/wwwroot/notification/server`
   - 启动文件名：`index.js`
   - 端口：`3000`
3. 点击"提交"
4. 等待启动完成（状态显示"运行中"）

### 第四步：构建前端（1分钟）

在宝塔终端执行：
```bash
cd /www/wwwroot/notification/client
npm install
npm run build
```

### 第五步：配置 Nginx（1分钟）

1. 宝塔面板 → **网站** → **添加站点**
2. 填写信息：
   - 域名：你的域名或服务器IP
   - 根目录：`/www/wwwroot/notification/client/dist`
   - PHP版本：纯静态
3. 点击"设置" → "配置文件"
4. 在 `location / { ... }` 之前添加：

```nginx
location /api/ {
    proxy_pass http://127.0.0.1:3000;
    proxy_http_version 1.1;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
}
```

5. 修改 `location / { ... }`：

```nginx
location / {
    try_files $uri $uri/ /index.html;
}
```

6. 保存

---

## 🎉 开始安装向导

### 访问网站

打开浏览器，访问你的网站地址：
- 例如：`http://你的域名`
- 或：`http://你的服务器IP`

系统会自动进入安装向导！

---

## 📝 安装向导 4 步走

### 步骤 1：环境检查 ✅

- 系统自动检测环境
- 只要"后端服务"显示 ✅ 就可以继续
- 点击"下一步"

### 步骤 2：数据库配置 ⭐ 重点！

1. **填写第二步创建的数据库信息**：
   ```
   数据库地址: localhost
   端口: 3306
   数据库名: notification_system
   用户名: notification_user
   密码: [你设置的密码]
   ```

2. **点击"测试并保存配置"**
   - 系统会自动生成 `.env` 文件
   - 显示"配置保存成功"

3. **如果提示需要初始化数据库**：
   - 点击"复制"按钮
   - 在宝塔终端执行命令
   - 返回页面点击"重新检查"
   - 所有项都显示 ✅

4. **点击"下一步"**

### 步骤 3：创建管理员

**方式一：使用默认账号（推荐）**
- 点击"使用默认账号"
- 用户名：`admin`
- 密码：`admin123`
- ⚠️ 登录后记得修改密码

**方式二：创建自定义账号**
- 填写用户名、密码
- 点击"创建新账号"

**等待系统重启**
- 显示"系统正在重启..."
- 约 3-5 秒
- 自动进入下一步

### 步骤 4：完成！🎉

- 显示安装摘要
- 点击"立即登录"
- 开始使用系统！

---

## ✅ 安装完成检查

登录后，请确认：

1. **修改默认密码**（如使用默认账号）
   - 右上角头像 → 个人中心 → 修改密码

2. **配置 SMTP 邮箱**
   - 左侧菜单 → 邮箱配置 → 添加配置
   - 填写 QQ 邮箱或 163 邮箱信息
   - 测试连接

3. **创建第一个通知**
   - 左侧菜单 → 通知管理 → 新建通知
   - 测试发送功能

---

## 🆘 遇到问题？

### 问题 1：后端服务未运行
- 检查 PM2 中服务状态
- 查看 PM2 日志
- 确认端口 3000 未被占用

### 问题 2：数据库连接失败
- 检查数据库名、用户名、密码是否正确
- 确认 MySQL 服务运行正常
- 在宝塔中测试数据库连接

### 问题 3：页面无法访问
- 检查 Nginx 配置是否正确
- 确认防火墙开放 80 端口
- 查看 Nginx 错误日志

### 问题 4：API 请求失败
- 检查 Nginx 反向代理配置
- 确认后端服务运行在 3000 端口
- 查看浏览器控制台错误

---

## 📚 更多帮助

- **详细教程**：查看 `宝塔安装详细教程.md`
- **测试指南**：查看 `安装测试指南.md`
- **技术文档**：查看 `方案三实施总结.md`
- **GitHub Issues**：提交问题和建议

---

## 🎯 下一步

安装完成后，您可以：

1. 📧 配置邮箱服务器
2. 👥 添加收件人信息
3. 📝 创建通知任务
4. 📊 查看发送监控
5. ⚙️ 个性化设置

---

## 💡 小贴士

1. **安全建议**
   - 修改默认管理员密码
   - 定期备份数据库
   - 配置 HTTPS（推荐）

2. **性能优化**
   - 定期清理日志
   - 监控服务器资源
   - 使用 CDN 加速（可选）

3. **最佳实践**
   - 测试邮件发送功能
   - 合理设置通知频率
   - 定期检查发送日志

---

**恭喜！您已成功安装消息通知系统！** 🎉

**享受像 WordPress 一样简单的安装体验！** ✨



