# ⚡ 快速开始 - 5分钟上手指南

## 🎯 给技术人员

### 本地运行（开发测试）

#### 1️⃣ 克隆/下载项目

```bash
cd /path/to/your/workspace
# 如果是Git仓库
git clone <repository-url>
# 或直接下载解压
```

#### 2️⃣ 安装依赖

```bash
# 后端
cd server
npm install

# 前端
cd ../client
npm install
```

#### 3️⃣ 配置数据库

**创建数据库：**

```sql
CREATE DATABASE notification_system CHARACTER SET utf8mb4;
```

**导入表结构：**

```bash
mysql -u root -p notification_system < server/config/init.sql
```

#### 4️⃣ 配置环境变量

```bash
cd server
cp .env.example .env
# 编辑 .env，修改数据库密码
```

#### 5️⃣ 启动服务

**终端1 - 启动后端：**

```bash
cd server
npm run dev
```

**终端2 - 启动前端：**

```bash
cd client
npm run dev
```

#### 6️⃣ 访问

打开浏览器：http://localhost:5173

---

## 🏢 给运维人员（宝塔部署）

### 前置条件

✅ 已安装宝塔面板  
✅ 已安装 Nginx、MySQL、PM2管理器  
✅ 已安装 Node.js 16+

### 部署步骤

#### 1️⃣ 上传代码

上传到：`/www/wwwroot/notification`

#### 2️⃣ 创建数据库

在宝塔【数据库】中创建：
- 数据库名：`notification_system`
- 用户名：`notification_user`
- 密码：记录下来

导入 `server/config/init.sql`

#### 3️⃣ 配置后端

```bash
cd /www/wwwroot/notification/server
npm install --production
nano .env  # 修改数据库配置
```

#### 4️⃣ 构建前端

```bash
cd /www/wwwroot/notification/client
npm install
npm run build
```

#### 5️⃣ 启动后端

在宝塔【PM2管理器】中：
- 项目名称：`notification-system`
- 启动文件：`/www/wwwroot/notification/server/index.js`
- 启动

#### 6️⃣ 配置Nginx

在宝塔【网站】中：
- 添加站点
- 配置文件：复制 `nginx.conf` 内容
- 重启Nginx

#### 7️⃣ 访问

打开浏览器：http://your-domain.com

---

## 👩‍💼 给最终用户

### 首次使用三步曲

#### 第1步：配置邮箱 ✉️

1. 点击左侧【邮箱配置】
2. 点击【添加配置】
3. 填写信息（QQ邮箱示例）：
   - SMTP服务器：`smtp.qq.com`
   - 端口：`465`
   - 发件人邮箱：你的QQ邮箱
   - 邮箱密码：**QQ邮箱授权码**（不是QQ密码！）
4. 点击【测试】验证
5. 点击【启用】

**如何获取QQ邮箱授权码？**
1. 登录 QQ邮箱网页版
2. 【设置】→【账户】
3. 开启"IMAP/SMTP服务"
4. 生成授权码
5. 复制授权码使用

#### 第2步：创建通知 🔔

1. 点击左侧【通知管理】
2. 点击【新建通知】
3. 填写信息：
   - **标题**：邮件主题（如：会议通知）
   - **类型**：选择单次或周期
   - **时间**：选择发送时间
   - **收件人**：输入邮箱，按回车添加
   - **内容**：邮件正文
4. 点击【确定】

#### 第3步：查看记录 📋

1. 点击左侧【发送记录】
2. 查看发送历史
3. 检查成功/失败状态

---

## 💡 常见场景示例

### 场景1：每天早上9点发送考勤提醒

- **标题**：考勤提醒
- **类型**：每天
- **时间**：2024-01-01 09:00（日期任选，系统只用时间）
- **收件人**：员工邮箱列表
- **内容**：请记得打卡

### 场景2：每周一早上发送周会通知

- **标题**：周会通知
- **类型**：每周
- **时间**：2024-01-01 09:00（选一个周一）
- **收件人**：参会人员邮箱
- **内容**：本周会议时间...

### 场景3：每月1号发送月报提醒

- **标题**：月报提醒
- **类型**：每月
- **时间**：2024-01-01 09:00
- **收件人**：相关人员
- **内容**：请提交本月报表

### 场景4：明天下午3点的临时会议通知

- **标题**：临时会议通知
- **类型**：单次通知
- **时间**：明天 15:00
- **收件人**：参会人员
- **内容**：明天下午3点会议室见

---

## ⚠️ 重要提示

### ✅ 建议先测试

创建正式通知前：
1. 设置一个很近的时间（2分钟后）
2. 收件人填自己的邮箱
3. 内容写"测试"
4. 检查是否收到邮件

### ⚠️ 授权码 ≠ 密码

QQ邮箱、163邮箱需要使用**授权码**，不是登录密码！

### 🔄 状态说明

- 🟢 运行中：会按时发送
- 🟡 已暂停：不会发送
- ⚪ 已完成：单次任务完成

### 🕐 关于时间

- 单次通知：指定时间发送一次
- 每天：每天这个时间发送
- 每周：每周这一天的这个时间发送
- 每月：每月这一天的这个时间发送
- 每年：每年这个日期时间发送

---

## 📚 更多文档

- 📖 [使用手册](./使用手册.md) - 详细操作指南
- 🚀 [启动说明](./启动说明.md) - 技术启动文档
- 📦 [宝塔部署](./宝塔部署文档.md) - 生产环境部署
- 📁 [项目结构](./项目结构说明.md) - 代码结构说明
- 📄 [README](./README.md) - 项目总览

---

## 🆘 遇到问题？

### 邮件发送失败

1. 检查邮箱配置是否正确
2. 确认使用的是授权码（不是密码）
3. 在【发送记录】中查看错误信息

### 收不到邮件

1. 检查【发送记录】中的状态
2. 检查邮箱的垃圾箱
3. 确认收件人邮箱地址正确

### 时间不对

1. 确认任务状态是"运行中"
2. 检查服务器时间
3. 建议先测试近期时间

---

**开始使用吧！** 🎉

有任何问题，请查看详细文档或联系管理员。


